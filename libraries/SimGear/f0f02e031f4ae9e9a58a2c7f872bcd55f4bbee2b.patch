From f0f02e031f4ae9e9a58a2c7f872bcd55f4bbee2b Mon Sep 17 00:00:00 2001
From: James Turner <james@flightgear.org>
Date: Thu, 12 Jun 2025 09:09:48 +0100
Subject: [PATCH] replace boost::mpl with std:: in one place

---
 simgear/nasal/cppbind/NasalHash.hxx | 24 ++++++++++--------------
 1 file changed, 10 insertions(+), 14 deletions(-)

diff --git a/simgear/nasal/cppbind/NasalHash.hxx b/simgear/nasal/cppbind/NasalHash.hxx
index 1734adf68..bfaf6f7db 100644
--- a/simgear/nasal/cppbind/NasalHash.hxx
+++ b/simgear/nasal/cppbind/NasalHash.hxx
@@ -10,9 +10,10 @@
 #include "from_nasal.hxx"
 #include "to_nasal.hxx"
 
+#include <boost/iterator/iterator_facade.hpp>
 #include <simgear/std/type_traits.hxx>
 #include <simgear/structure/map.hxx>
-#include <boost/iterator/iterator_facade.hpp>
+#include <type_traits>
 
 namespace nasal
 {
@@ -162,19 +163,14 @@ namespace nasal
       class Entry
       {
         public:
-          typedef typename boost::mpl::if_c<
-            is_const,
-            Hash const*,
-            Hash*
-          >::type HashPtr;
-
-          Entry(HashPtr hash, naRef key):
-            _hash(hash),
-            _key(key)
-          {
-            assert(hash);
-            assert(naIsScalar(key));
-          }
+            using HashPtr = typename std::conditional<is_const, Hash const*, Hash*>::type;
+
+            Entry(HashPtr hash, naRef key) : _hash(hash),
+                                             _key(key)
+            {
+                assert(hash);
+                assert(naIsScalar(key));
+            }
 
           std::string getKey() const
           {
-- 
GitLab

